<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sky Clock</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Info button -->
        <button id="infoToggle" class="info-toggle" aria-label="About this clock">
            <span class="info-icon">i</span>
        </button>

        <!-- Menu toggle button -->
        <button id="menuToggle" class="menu-toggle" aria-label="Open settings menu">
            <span class="hamburger-icon">
                <span></span>
                <span></span>
                <span></span>
            </span>
        </button>

        <!-- Dropdown menu panel -->
        <div id="menuPanel" class="menu-panel">
            <!-- Hidden mode buttons (keep for JS compatibility) -->
            <button id="fixedModeBtn" class="mode-btn" style="display:none">Fixed</button>
            <button id="rotatingModeBtn" class="mode-btn" style="display:none">Rotating</button>
            <p id="modeDescription" style="display:none"></p>

            <!-- Location -->
            <div class="control-row">
                <input type="text" id="locationInput" placeholder="City or lat,lng">
                <button id="searchBtn" class="icon-btn" title="Search">⌕</button>
                <button id="useMyLocation" class="icon-btn" title="My Location">◎</button>
            </div>

            <!-- Date & Time -->
            <div class="control-row">
                <input type="date" id="dateInput">
                <span id="currentTimeDisplay" class="time-display">--:--:--</span>
            </div>

            <!-- Timelapse -->
            <div class="timelapse-row">
                <button id="timelapseToggle" class="play-btn">▶</button>
                <input type="range" id="timelapseSpeed" min="0.5" max="24" step="0.5" value="1">
                <span class="speed-label"><span id="speedValue">1</span> hr/s</span>
            </div>

            <!-- Info -->
            <div class="info-row">
                <span class="sun-info">☀↑ <span id="sunriseDisplay">--:--</span></span>
                <span class="sun-info">☀↓ <span id="sunsetDisplay">--:--</span></span>
                <span class="sun-info"><span id="dayLengthDisplay">--</span></span>
            </div>

            <!-- Color Customization (12 colors: sun, moon, 10 sky colors) -->
            <div class="color-section">
                <!-- Top row: Sun, Moon, Reset -->
                <div class="color-control-row">
                    <div class="color-item">
                        <span class="color-label">☀</span>
                        <input type="color" class="color-picker" data-index="0" value="#f5e8d8" title="Sun">
                    </div>
                    <div class="color-item">
                        <span class="color-label">☾</span>
                        <input type="color" class="color-picker" data-index="1" value="#e8e4dc" title="Moon">
                    </div>
                    <button id="resetColors" class="reset-btn" title="Reset Colors">↻</button>
                </div>
                <!-- Sky colors: 2 rows of 5 -->
                <div class="color-grid">
                    <!-- Row 1: Night + Twilight + Sunrise (2+3) -->
                    <input type="color" class="color-picker" data-index="2" value="#1a1a2e" title="Night">
                    <input type="color" class="color-picker" data-index="3" value="#2d4059" title="Twilight">
                    <input type="color" class="color-picker" data-index="4" value="#a66d8f" title="Sunrise 1">
                    <input type="color" class="color-picker" data-index="5" value="#d4a5a5" title="Sunrise 2">
                    <input type="color" class="color-picker" data-index="6" value="#f0c5a0" title="Sunrise End">
                    <!-- Row 2: Morning to Noon (5) -->
                    <input type="color" class="color-picker" data-index="7" value="#e8dcc4" title="Early Morning">
                    <input type="color" class="color-picker" data-index="8" value="#c5d8d8" title="Morning">
                    <input type="color" class="color-picker" data-index="9" value="#a8c5c5" title="Late Morning">
                    <input type="color" class="color-picker" data-index="10" value="#8fa5a5" title="Pre-Noon">
                    <input type="color" class="color-picker" data-index="11" value="#7a9999" title="Solar Noon">
                </div>
            </div>

            <!-- Hidden elements for JS compatibility -->
            <span id="locationDisplay" style="display:none">--</span>
        </div>

        <!-- Info Panel -->
        <div id="infoPanel" class="info-panel">
            <h3>Sky Clock</h3>
            <p>A new way to show time passing: through the rhythmic colors of the sky.</p>
            <p>The full circle represents 24 hours:</p>
            <ul>
                <li><strong>Light blue tick</strong> — Noon (12pm)</li>
                <li><strong>Dark blue tick</strong> — Midnight (12am)</li>
                <li><strong>White ticks</strong> — 6am and 6pm</li>
                <li><strong>White line at top</strong> — Current time</li>
            </ul>
            <p>Colors change throughout the day based on your location's sun and moon positions.</p>
        </div>

        <!-- Clock container - fills most of the screen -->
        <div class="clock-container">
            <canvas id="backgroundLayer" class="clock-layer"></canvas>
            <canvas id="frameLayer" class="clock-layer"></canvas>
            <canvas id="clockFaceLayer" class="clock-layer"></canvas>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
